<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Get public key info from Jade</title>
    <link rel="stylesheet" href="https://use.typekit.net/chx2fbn.css">
    <link rel="stylesheet" href="css/styleguide.min.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="icon" href="images/favicon.jpeg" />
    <script src="js/cbor-web.js"></script>   
    <script src="js/bs58.min.js"></script>
    <script src="js/bower_components/crypto-js/crypto-js.js"></script>
  </head>

  <body>
    <header>
      <a class="logo" href="/">
        <img src="images/logo.svg" class="logo-img" />
      </a>
      <a class="logo" href="/">
        <img src="images/swan.svg" style="width: 60px"; />
      </a>
    </header>
    <main>
      <div class="container">
        <div class="jade-device">
          <img id="jade-device-img" src="images/jade-device.svg" alt="icon" />
          <img id="jade-device-unlock-img" src="images/jade-device-unlock.svg" alt="icon" />
          <img id="jade-device-confirm-img" src="images/jade-device-confirm.svg" alt="icon" />
          <img id="jade-device-updating-img" src="images/jade-device-updating.svg" alt="icon" />
          <img id="jade-device-error-img" src="images/jade-device-error.svg" alt="icon" />
          <img id="usb-cable-img" src="images/usb-cable.svg" alt="icon" />
        </div>
        <h1 class="title" id="title">
          POC: Get public key info from Jade
        </h1>
        <div id="spinner" class="spinner hidden"></div>
        <a class="hidden service-btn" id="logs-btn" href="https://github.com/Blockstream/Jade/blob/master/CHANGELOG.md">View Changelog</a>
        <button class="hidden g-btn green-btn" id="changefirmware" type="button" onclick="confirmChangingVersion()">Change Firmware Version</button>
        <button class="hidden g-btn green-btn" id="showfirmwares" type="button" onclick="show_firmwares()">Update your Jade</button>
        <button class="g-btn green-btn" id="get-xpub-btn" type="button" onclick="showXpub([2147483696,2147483648,2147483648,2147483650])">Show xpub</button>

        <div id="display-xpub" class="hidden">
          <p class="subtitle" id="subtitle" style="margin-top: 5px">This is the xpub</p>
          <span id="xpub"></span>
        </div>
        <button class="g-btn green-btn" id="get-fingerprint-btn" type="button" onclick="showFingerprint()">Show fingerprint</button>
        <div id="display-fingerprint" class="hidden">
          <p class="subtitle" id="subtitle" style="margin-top: 5px">This is the fingerprint</p>
          <span id="fingerprint"></span>
        </div>
        <img class="jade-img" src="images/jade.svg" alt="Jade" />
        <button class="hidden g-btn green-btn" id="retry-btn" type="button" onClick="window.location.reload()">
          Retry
       </button>

        <!-- <img id="usb-cable-plugged-img" src="images/usb-cable-plugged.svg" alt="icon" /> -->

        <div id="error">
        </div>
        <div id="notSupported">
                </br>
                </br>
                Your browser doesn't seem to have Web Serial enabled.
                </br>
                </br>
                This page only supports Chrome 89 or later. Unfortunately Android currently doesn't have this feature enabled.
                </br>
        </div>
        <div id="firmware_available">
        </div>
        <div id="firmware_flashing">
        </div>
        <button id="showall-btn" class="hidden g-btn green-ter-btn" type="button" onclick="showAll()" style="border: none;
          background: none;
          outline: none; margin-bottom: 20px;">Show All</button>
        <button class="hidden g-btn green-btn" style="margin-bottom: 20px;" id="firmware_selected" type="button" onclick="on_firmware_selected()">Confirm Version</button>
      </div>
    </main>
  </body>
</html>

<script src="js/jade.js"></script>
<script src="js/key.js"></script>
<script src="js/ota.js"></script> 